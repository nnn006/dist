import{_ as M}from"./info-icon.D_5ulZjW.js";import{u as N,y as S,b as L,V as A,Z as V,d as j,W as q,e as x,g as F,$ as O}from"./index.Cjri3_sP.js";import{_ as d}from"./BaseInfoItem.vue_vue_type_style_index_0_lang.DMYgpoJW.js";import{d as U,l as m,p as $,o as z,a as Z,B as o,Q as i,x as t,i as e,S as u,H as E,Z as Q,_ as W,j as G,r as _,L as v,n as J}from"./vue.BCHSKM6y.js";import"./right-arrow-icon.CaFxgYzl.js";const K={class:"family-details-box hk-flex container-setPx"},X={class:"hk-flex hk-items-center"},Y=e("div",{class:"wktime-info-desc"},"填写的工作时长为每日正常工作时长，超出正常工作时长的部分为加班时长，如填0则不计算加班时长。",-1),ee=e("img",{class:"wktime-info-icon",src:M,alt:"",srcset:""},null,-1),ae={class:"family-info-item"},te={class:"family-info-title"},oe=["src"],se=e("div",{class:"footer-aux-btmbox"},null,-1),le={class:"footer-btn-box"},ne={class:"family-details-dialog"},ie={class:"pd-dialog-content"},ce=e("div",{class:"pd-dialog-tips"},"提示：此家庭的所有数据将一并被删除",-1),de=e("div",{class:"family-details-dialog"},[e("div",{class:"pd-dialog-content"},"请先移除所有成员（包括亲属）再删除家庭")],-1),pe=U({__name:"editDetails",setup(re){const p=Q(),k=W(),{hkMessage:c}=F(),D=G("endPageLoading"),{id:r}=k.query,g=N(),f=m(null),h=m(null),b=m(null),s=m({}),{t:l}=L(),P=()=>{O({homeId:r}).then(a=>{a.code===0?a.data.num?c("请先移除所有成员（包括亲属）再删除家庭"):f.value.taggleDialog(!0):c(a.msg)}).catch(a=>{c(a||"网络错误")})},C=()=>{h.value.taggleDialog(!1)},I=a=>{A({homeId:+r}).then(n=>{n.code===0?s.value={homeName:{type:"text",value:n.data.nickname},country:{type:"text",value:n.data.country},area:{type:"text",value:n.data.area},address:{type:"text",value:n.data.address},currency:{type:"text",value:n.data.currency},pic:n.data.avatar,overTime:n.data.overTime}:c(n.msg)}).finally(()=>{a&&a()})},T=()=>{p.push({name:"AddHome",query:{id:r}})},H=()=>{V({homeId:+r}).then(a=>{a.code===0?(f.value.taggleDialog(!1),c("删除成功"),g.setHomeSimpleLs(),g.setUserIdent(),p.back()):c(a.msg)}).catch(a=>{c(a)})},w=()=>{b.value.taggleModal()};return $(()=>{I(D)}),(a,n)=>{const B=_("BtmSingleBtn"),y=_("ConfrimPopAgain"),R=_("PreviewImage");return z(),Z(E,null,[o(S,{title:t(l)("base.header.familyDetails")},{rightContent:i(()=>[o(t(j),{size:"mini",class:"staff-quit-btn",onClick:P},{default:i(()=>[v(u(t(l)("base.btn.delHome")),1)]),_:1})]),_:1},8,["title"]),e("div",K,[e("div",null,[o(d,{label:t(l)("base.homeNameTxt"),valData:s.value.homeName},null,8,["label","valData"]),o(d,{label:t(l)("base.countryTxt"),valData:s.value.country},null,8,["label","valData"]),o(d,{label:t(l)("base.currency"),valData:s.value.currency},null,8,["label","valData"]),o(d,{label:t(l)("base.areaTxt"),valData:s.value.area},null,8,["label","valData"]),o(d,{label:t(l)("base.addressTxt"),valData:s.value.address},null,8,["label","valData"]),o(d,null,{label:i(()=>[e("div",X,[v(" 工作时长 "),o(t(q),{class:"wktime-info-pop",theme:"dark",placement:"top-start","close-on-click-action":!1,"close-on-click-outside":!1,"close-on-click-overlay":!1},{reference:i(()=>[ee]),default:i(()=>[Y]),_:1})])]),default:i(()=>[e("div",null,[e("span",{class:J({"gray-text-color":!s.value.overTime})},u(s.value.overTime),3),v(" 小时")])]),_:1}),e("div",ae,[e("div",te,u(t(l)("base.pictrueTxt")),1),e("img",{class:"family-info-img",src:t(x)+s.value.pic,onClick:w},null,8,oe)])]),se,e("div",le,[o(B,{disable:!0,handleTxt:t(l)("base.btn.editHome"),onOnHandle:T},null,8,["handleTxt"])])]),o(y,{ref_key:"confirmPopRef",ref:f,popClass:"family-details-dialog-box",customFooter:!0,onOnConfirm:H},{default:i(()=>[e("div",ne,[e("div",ie,u(t(l)("base.confirmDelHome")),1),ce])]),_:1},512),o(y,{ref_key:"exitMemberPopRef",ref:h,popClass:"family-details-dialog-box",customFooter:!0,onOnConfirm:C},{default:i(()=>[de]),_:1},512),o(R,{ref_key:"previewImgRef",ref:b,imageList:[t(x)+s.value.pic]},null,8,["imageList"])],64)}}});export{pe as default};
