import{_ as H}from"./right-arrow-icon.CaFxgYzl.js";import{u as L,I as D,o as Y,b as j,p as M,c as Z,q as _,r as $,t as N,d as ee,v as se,g as oe,w as te,x as U}from"./index.Cjri3_sP.js";import{d as ae,l as f,m as I,g as ne,p as le,k as ie,o as r,a as d,i as e,H as w,S as u,x as o,B as m,L as A,Q as V,f as B,_ as ce,r as S}from"./vue.BCHSKM6y.js";const re="data:image/png;base64,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",de={class:"register-box"},ue={class:"reg-big-tit"},ge={class:"reg-sec-tit"},pe={class:"reg-form-box"},me={class:"reg-form-item hk-flex hk-items-center"},Ce={class:"reg-area-span"},fe={class:"reg-field-box"},Ae={class:"reg-form-item rf-mt-24 hk-flex hk-items-center"},he={class:"reg-field-box"},ve={class:"login-other-box hk-flex hk-items-center"},ke=e("img",{class:"go-login-arraw",src:H,alt:"",srcset:""},null,-1),be=e("img",{class:"qingliao-logo",src:re,alt:""},null,-1),Pe=e("img",{class:"go-login-arraw",src:H,alt:"",srcset:""},null,-1),we={key:1,class:"ql-auth-page"},Be=e("img",{class:"auth-logo-png",src:se,alt:"",srcset:""},null,-1),xe=e("div",{class:"auth-logo-label"},"正在登录中",-1),Ee=[Be,xe],ye=e("div",{class:"short-tips-dialog"},[e("div",{class:"pd-dialog-content"},"是否使用轻聊授权登录?")],-1),Qe=ae({__name:"register",setup(De){const{t:i}=j();ce();const T=f(null),C=new URLSearchParams(window.location.search).get("shareCode"),h=L(),{setShareCode:F,removerShareCode:q}=M(),{pushName:x}=Z(),{hkMessage:E}=oe();let g=null;const c=f(!1),v=f(!1),k=I({isAppPage:D.inApp()?2:1}),J=f(null),t=I({account:"",pwd:"",verCode:""}),b=f(86),W=ne(()=>!(t.account&&t.verCode)),l=I({isCountdown:!1,countdownNum:60}),X=()=>{J.value.taggleVisible(!0)},K=n=>{b.value=n.dialCode},O=n=>{const s={phone:"+"+b.value+t.account,code:t.verCode,shareCode:C};te(s).then(async a=>{a.code===0?(h.setToken(a.data.token),C&&q(),a.data.message&&U({message:a.data.message}),await h.setUserIdent(),sessionStorage.clear(),x("Home")):U({message:a.msg})}).finally(()=>{c.value=!1})},G=()=>{c.value||(c.value=!0,O())},R=Y(()=>{if(!t.account){E("请填写手机号码");return}l.isCountdown||(l.isCountdown=!0,_({phone:"+"+b.value+t.account,type:2}).then(n=>{n.code===0?Q():E(n.msg)}))},500),Q=()=>{g=setTimeout(()=>{l.countdownNum>=1?(l.countdownNum--,Q()):(l.isCountdown=!1,l.countdownNum=60,clearTimeout(g),g=null)},1e3)},y=async()=>{const n=await D.dologin("family");if(n)k.isAppPage=2;else{k.isAppPage=1;return}c.value=!0,$({imToken:n,shareCode:C}).then(async s=>{var a,P;s.code===0?(a=s.data)!=null&&a.token&&(h.setToken((P=s.data)==null?void 0:P.token),await h.setUserIdent(),sessionStorage.clear(),x("Home")):E(s.msg)}).finally(()=>{c.value=!1})};return le(()=>{v.value=D.inApp(),C&&F(C),v.value&&y()}),ie(()=>{g&&(clearTimeout(g),g=null)}),(n,s)=>{const a=S("SvgIcon"),P=S("AreaCodeSelect"),z=S("ConfrimPopAgain");return r(),d(w,null,[e("div",de,[k.isAppPage===1?(r(),d(w,{key:0},[e("div",ue,u(o(i)("base.registerTxt")),1),e("div",ge,u(o(i)("base.registerDescTxt")),1),e("div",pe,[e("div",me,[e("div",{class:"reg-area hk-flex hk-items-center",onClick:X},[e("span",Ce,"+"+u(b.value),1),m(a,{iconClass:"down-select-svg",size:"9",color:"#0D0D0D"})]),e("div",fe,[m(o(N),{modelValue:t.account,"onUpdate:modelValue":s[0]||(s[0]=p=>t.account=p),placeholder:o(i)("base.regTelPldtxt"),clearable:"","clear-icon":"cross"},null,8,["modelValue","placeholder"])])]),e("div",Ae,[e("div",he,[m(o(N),{modelValue:t.verCode,"onUpdate:modelValue":s[1]||(s[1]=p=>t.verCode=p),placeholder:o(i)("base.regVerCodePldtxt"),clearable:"","clear-icon":"cross"},null,8,["modelValue","placeholder"])]),e("div",{class:"get-vcode-box",onClick:s[2]||(s[2]=(...p)=>o(R)&&o(R)(...p))},[l.isCountdown?(r(),d(w,{key:0},[A(u(l.countdownNum)+" ",1),e("span",null,u(o(i)("base.vCodeSendTxt")),1)],64)):(r(),d(w,{key:1},[A(u(o(i)("base.getVcodeTxt")),1)],64))])])]),m(o(ee),{class:"reg-step-btn",disabled:W.value,loading:c.value,type:"primary",onClick:G},{default:V(()=>[A(u(o(i)("base.nextStep")),1)]),_:1},8,["disabled","loading"]),e("div",ve,[v.value?B("",!0):(r(),d("div",{key:0,class:"hk-flex hk-items-center",onClick:s[3]||(s[3]=p=>o(x)("Login"))},[A(" 已有账号，前去登录 "),ke])),v.value?(r(),d("div",{key:1,class:"hk-flex hk-items-center",onClick:y},[be,A(" 轻聊授权登录 "),Pe])):B("",!0)])],64)):B("",!0),k.isAppPage===2?(r(),d("div",we,Ee)):B("",!0)]),m(P,{ref_key:"areaCodeSelectRef",ref:J,onOnChange:K},null,512),m(z,{ref_key:"confirmDelPopRef",ref:T,popClass:"short-tips-pop",loading:c.value,customFooter:!0,onOnConfirm:y},{default:V(()=>[ye]),_:1},8,["loading"])],64)}}});export{Qe as default};
