import{d as P,j as A,c as L,f as T,A as M,u as R,R as V,a as S}from"./index.C__3lhMr.js";import{l as B,r as w,R as H,b as F,d as O,K as v,L as c,U as _,V as d,k as t,N as l,O as r,u as s,S as p,M as f}from"./vue.C2TeXnf4.js";import{_ as o}from"./BaseInfoItem.vue_vue_type_style_index_0_lang.MpSsZcmr.js";import{e as U}from"./index.CeJqzCj5.js";import"./right-arrow-icon.CaFxgYzl.js";const $={class:"imprest-details-box container-setPx"},q={style:{"font-weight":"500"}},E={key:1,class:"imprest-info-item"},K={class:"imprest-info-title"},z={class:"imprest-info-desc"},G={key:2,class:"footer-aux-btmbox"},J={key:3,class:"footer-btn-box"},Q=l("div",{class:"imprest-details-dialog"},[l("div",{class:"pd-dialog-content"},"确定取消申请？")],-1),te=B({__name:"staffDeatils",setup(W){const m=w(null),{comeback:g}=P(),b=A(),h=H(),{hkMessage:n}=S(),{id:y}=h.query,e=F({name:{type:"text",value:""},price:{type:"number",value:0},homeName:{type:"text",value:""},job:{type:"text",value:""},time:{type:"dayjs",value:0},auditIdentifyName:{type:"text",value:""},desc:"",currency:"",status:0}),{t:i}=R(),{pageLoading:x,endPageLoading:D}=L({}),k=()=>{m.value.taggleDialog(!0)},N=u=>{V({applicationId:y}).then(a=>{a.code===0?(e.name={type:"text",value:a.data.identifyName},e.price={type:"number",value:a.data.amount},e.homeName={type:"text",value:a.data.homeName},e.job={type:"text",value:a.data.identifyDuties},e.time={type:"dayjs",value:a.data.applicationTime},e.auditIdentifyName={type:"text",value:a.data.auditIdentifyName},e.desc=a.data.remark,e.currency=a.data.currency,e.status=a.data.status):n(a.msg)}).catch(a=>{n(a)}).finally(()=>{u&&u()})},I=u=>{U({applicationId:y,homeId:b.userInfo.homeId}).then(a=>{a.code===0?(g(),n("取消申请成功"),m.value.taggleDialog(!1)):n(a.msg)}).catch(a=>{n(a)})};return O(()=>{N(D)}),(u,a)=>{const j=v("ConfrimPopAgain"),C=v("MainContainer");return c(),_(C,{exitLoading:!0,pageLoading:s(x)},{header:d(()=>[t(T,{title:"申请详情"})]),default:d(()=>[l("div",$,[t(o,{label:"申请人",valData:e.name},null,8,["valData"]),t(o,{label:s(i)("base.applyMoneyTxt")},{default:d(()=>[l("div",q,r(s(M)(e.price.value))+" "+r(e.currency),1)]),_:1},8,["label"]),t(o,{label:s(i)("base.belongHomeTxt"),valData:e.homeName},null,8,["label","valData"]),t(o,{label:s(i)("base.jopTxt"),valData:e.job},null,8,["label","valData"]),t(o,{label:s(i)("base.timeTxt"),valData:e.time},null,8,["label","valData"]),e.status!==1&&e.status!==0?(c(),_(o,{key:0,label:"审核人",valData:e.auditIdentifyName},null,8,["valData"])):p("",!0),t(o,{label:"状态",isStatusItem:!0,statusValue:e.status===1?"wait":e.status===2?"pass":"unpass"},null,8,["statusValue"]),e.desc?(c(),f("div",E,[l("div",K,r(s(i)("base.descTxt")),1),l("div",z,r(e.desc),1)])):p("",!0),e.status===1?(c(),f("div",G)):p("",!0),e.status===1?(c(),f("div",J,[l("div",{class:"imprest-cancel-btn",onClick:k},"取消申请")])):p("",!0)]),t(j,{ref_key:"rejectPopRef",ref:m,popClass:"imprest-details-reject-dialog",customFooter:!0,onOnConfirm:I},{default:d(()=>[Q]),_:1},512)]),_:1},8,["pageLoading"])}}});export{te as default};
