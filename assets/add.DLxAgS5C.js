import{aj as B,aK as y,aL as S,aM as V,at as P,aN as N,au as q,a3 as z,y as F,b as H,c as I,t as L,g as T,aO as U,aP as D}from"./index.Cjri3_sP.js";import{d as x,B as o,l as C,o as M,a as O,x as g,i as _,Q as p,H as R,_ as $,r as j}from"./vue.BCHSKM6y.js";import{_ as w}from"./BaseInfoItem.vue_vue_type_style_index_0_lang.DMYgpoJW.js";import"./right-arrow-icon.CaFxgYzl.js";const[E,k]=B("switch"),J={size:S,loading:Boolean,disabled:Boolean,modelValue:V,activeColor:String,inactiveColor:String,activeValue:{type:V,default:!0},inactiveValue:{type:V,default:!1}};var K=x({name:E,props:J,emits:["change","update:modelValue"],setup(e,{emit:r,slots:l}){const a=()=>e.modelValue===e.activeValue,c=()=>{if(!e.disabled&&!e.loading){const t=a()?e.inactiveValue:e.activeValue;r("update:modelValue",t),r("change",t)}},b=()=>{if(e.loading){const t=a()?e.activeColor:e.inactiveColor;return o(P,{class:k("loading"),color:t},null)}if(l.node)return l.node()};return y(()=>e.modelValue),()=>{var t;const{size:s,loading:u,disabled:m,activeColor:v,inactiveColor:f}=e,i=a(),n={fontSize:N(s),backgroundColor:i?v:f};return o("div",{role:"switch",class:k({on:i,loading:u,disabled:m}),style:n,tabindex:m?void 0:0,"aria-checked":i,onClick:c},[o("div",{class:k("node")},[b()]),(t=l.background)==null?void 0:t.call(l)])}}});const Q=q(K),A={class:"add-manage-new hk-pt-52"},G=_("div",{class:"add-manage-new-line"},null,-1),W=_("div",{class:"footer-aux-btmbox"},null,-1),X={class:"footer-btn-box bg-transparent"},te=x({__name:"add",setup(e){var v,f;const{t:r}=H(),l=$(),{id:a}=l.query,{hkMessage:c}=T(),{comeback:b}=I(),t=z(),s=C((v=l.query)==null?void 0:v.title),u=C(((f=l.query)==null?void 0:f.permission)==="true"),m=()=>{const i=a?U:D,n={title:s.value,permissionIds:[u.value?1:0]};a&&(n.id=+a),i(n).then(d=>{d.code===0?(b(),c(a?"编辑职位成功":"添加职位成功"),t.setJob()):c(d.msg)}).catch(d=>{c(d)})};return(i,n)=>{const d=j("BtmSingleBtn");return M(),O(R,null,[o(F,{title:g(a)?"编辑职位":"添加职位"},null,8,["title"]),_("div",A,[G,o(w,{label:"职位名称"},{default:p(()=>[o(g(L),{modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=h=>s.value=h),placeholder:"填写职位名称"},null,8,["modelValue"])]),_:1}),o(w,{label:"允许出车"},{default:p(()=>[o(g(Q),{modelValue:u.value,"onUpdate:modelValue":n[1]||(n[1]=h=>u.value=h)},null,8,["modelValue"])]),_:1}),W,_("div",X,[o(d,{handleTxt:g(r)("base.btn.save"),disable:!!s.value,onOnHandle:m},null,8,["handleTxt","disable"])])])],64)}}});export{te as default};
