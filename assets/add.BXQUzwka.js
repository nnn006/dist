import{_ as B}from"./right-arrow-icon.CaFxgYzl.js";import{j as M,f as P,k as D,u as H,l as L,a as R}from"./index.C__3lhMr.js";import{l as V,r as o,R as w,d as A,K as c,L as N,U as F,V as n,k as l,u as g,N as e,z as I,O as $}from"./vue.C2TeXnf4.js";const j=e("div",{class:"aux-box-4px"},null,-1),z={class:"staff-manage-box hk-manage-box hk-pt-noScreen"},O={class:"add-member-screen-box"},U=e("div",{class:"ambs-l"},"选择家庭",-1),q={class:"ambs-r hk-flex hk-items-center"},K=e("img",{style:{"margin-left":"6px"},class:"input-right-arrow",src:B},null,-1),E=e("div",{class:"hk-manage-dialog"},[e("div",{class:"hkm-dialog-content"},"此家已有管家！如需更换管家，请删除原管家。")],-1),G={class:"hkm-dialog-btn"},Z=V({__name:"add",setup(J){const{t:d}=H(),_=o(null),v=o(null),r=o(""),m=o(""),{hkMessage:k}=R(),b=w(),f=M(),h=o([{text:d("base.selectFamilyTxt"),value:0}]),i=o({text:"家庭",value:0}),p=a=>{var s;i.value=a[0],(s=a[0])!=null&&s.value?L({identifyType:3,homeIds:[i.value.value]}).then(t=>{t.code===0?(r.value=t.data.shareCode,m.value=""):t.code===30009?(r.value="",m.value="此家已有管家！如需更换管家，请删除原管家。"):k(t.msg)}):r.value=""},x=()=>{v.value.taggleVisible(!0)},S=a=>{_.value.taggleDialog(a)};return A(async()=>{await f.setHomeSimpleLs();const a=await f.homeSimple;h.value=a;const{homeId:s}=b.query;if(s){const t=a.filter(u=>u.value===Number(s));t.length&&(i.value=t[0],p(t))}}),(a,s)=>{const t=c("SecondHeader"),u=c("AddMember"),C=c("BtmSingleBtn"),y=c("ConfrimPopAgain"),T=c("MainContainer");return N(),F(T,null,{header:n(()=>[l(P,{title:g(d)("base.addHkTxt")},null,8,["title"])]),headerScreen:n(()=>[e("div",null,[j,l(t,{noScreen:!0})])]),default:n(()=>[e("div",z,[l(u,{inviteLink:r.value,inviteDesc:m.value,typ:3},{default:n(()=>[e("div",O,[e("div",{class:"add-member-screen hk-flex hk-jbetween hk-items-center",onClick:x},[U,e("div",q,[e("div",{class:I(["ambs-r-label",{"no-screen":i.value.value===0}])},$(i.value.text),3),K])])])]),_:1},8,["inviteLink","inviteDesc"])]),l(D,{ref_key:"homeTypePopRef",ref:v,title:"选择家庭",data:h.value,onOnChange:p},null,8,["data"]),l(y,{ref_key:"confirmPopRef",ref:_,popClass:"hk-manage-dialog-box",customFooter:!0},{customFooter:n(()=>[e("div",G,[l(C,{handleTxt:g(d)("base.confirmTxt"),disable:!0,onClick:s[0]||(s[0]=Q=>S(!1))},null,8,["handleTxt"])])]),default:n(()=>[E]),_:1},512)]),_:1})}}});export{Z as default};
