import{ai as N,aJ as q,aK as I,aL as C,as as L,aM as M,at as P,d as U,q as z,f as R,t as T,u as D,a as F,aN as H,aO as J}from"./index.C__3lhMr.js";import{l as S,k as o,R as K,r as w,K as x,L as O,U as $,V as _,u as g,N as p}from"./vue.C2TeXnf4.js";import{_ as B}from"./BaseInfoItem.vue_vue_type_style_index_0_lang.MpSsZcmr.js";import"./right-arrow-icon.CaFxgYzl.js";const[j,k]=N("switch"),A={size:I,loading:Boolean,disabled:Boolean,modelValue:C,activeColor:String,inactiveColor:String,activeValue:{type:C,default:!0},inactiveValue:{type:C,default:!1}};var E=S({name:j,props:A,emits:["change","update:modelValue"],setup(e,{emit:r,slots:n}){const a=()=>e.modelValue===e.activeValue,m=()=>{if(!e.disabled&&!e.loading){const t=a()?e.inactiveValue:e.activeValue;r("update:modelValue",t),r("change",t)}},u=()=>{if(e.loading){const t=a()?e.activeColor:e.inactiveColor;return o(L,{class:k("loading"),color:t},null)}if(n.node)return n.node()};return q(()=>e.modelValue),()=>{var t;const{size:b,loading:s,disabled:i,activeColor:h,inactiveColor:v}=e,d=a(),f={fontSize:M(b),backgroundColor:d?h:v};return o("div",{role:"switch",class:k({on:d,loading:s,disabled:i}),style:f,tabindex:i?void 0:0,"aria-checked":d,onClick:m},[o("div",{class:k("node")},[u()]),(t=n.background)==null?void 0:t.call(n)])}}});const G=P(E),Q={class:"add-manage-new hk-pt-52"},W=p("div",{class:"footer-aux-btmbox"},null,-1),X={class:"footer-btn-box bg-transparent"},te=S({__name:"add",setup(e){var v,d;const{t:r}=D(),n=K(),{id:a,homeId:m}=n.query,{hkMessage:u}=F(),{comeback:t}=U(),b=z(),s=w((v=n.query)==null?void 0:v.title),i=w(((d=n.query)==null?void 0:d.permission)==="true"),h=()=>{const f=a?H:J,l={title:s.value,permissionIds:[i.value?1:0],homeId:m};a&&(l.id=+a),f(l).then(c=>{c.code===0?(t(),u(a?"编辑职位成功":"添加职位成功"),b.setJob(m)):u(c.msg)}).catch(c=>{u(c)})};return(f,l)=>{const c=x("BtmSingleBtn"),y=x("MainContainer");return O(),$(y,null,{header:_(()=>[o(R,{title:g(a)?"编辑职位":"添加职位"},null,8,["title"])]),default:_(()=>[p("div",Q,[o(B,{label:"职位名称"},{default:_(()=>[o(g(T),{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=V=>s.value=V),placeholder:"填写职位名称"},null,8,["modelValue"])]),_:1}),o(B,{label:"允许出车"},{default:_(()=>[o(g(G),{modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=V=>i.value=V)},null,8,["modelValue"])]),_:1}),W,p("div",X,[o(c,{handleTxt:g(r)("base.btn.save"),disable:!!s.value,onOnHandle:h},null,8,["handleTxt","disable"])])])]),_:1})}}});export{te as default};
