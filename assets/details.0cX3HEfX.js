import{f as g,A as D,u as k,R as I,ae as C,a as j}from"./index.C__3lhMr.js";import{l as M,R,r as b,i as w,b as A,a as B,d as V,K as q,L as s,U as c,V as v,k as u,N as o,O as p,u as x,S as y,M as L}from"./vue.C2TeXnf4.js";import{_ as i}from"./BaseInfoItem.vue_vue_type_style_index_0_lang.MpSsZcmr.js";import"./right-arrow-icon.CaFxgYzl.js";const H={class:"imprest-details-box container-setPx"},S={style:{"font-weight":"500"}},$={key:2,class:"imprest-info-item"},E={class:"imprest-info-title"},F={class:"imprest-info-desc"},J=M({__name:"details",setup(K){const r=R(),{hkMessage:P}=j(),{id:f}=r.query,t=b(0),n=b(0),{t:T}=k(),h=w("endPageLoading"),e=A({name:{type:"text",value:""},price:{type:"number",value:0},homeName:{type:"text",value:""},job:{type:"text",value:""},time:{type:"dayjs",value:0},audRes:{type:"text",value:""},reviewer:{type:"text",value:""},dealPeople:{type:"text",value:""},desc:"",currency:"",status:0}),l=B(()=>t.value===1?{name:"支出人",title:"",priceTxt:"金额",timeTxt:"时间"}:t.value===2||t.value===3?{name:"出车人",title:"开始出车",priceTxt:"",dealPeople:"委派人",timeTxt:"开始时间"}:t.value===4?{name:"申请人",title:"",priceTxt:"金额",dealPeople:"",timeTxt:"时间"}:t.value===5?{name:"划拨人",title:"划拨备用金",priceTxt:"划拨金额",dealPeople:"接收人",timeTxt:"时间"}:t.value===6?{name:"接收人",title:"收到备用金",priceTxt:"金额",dealPeople:"发放人",timeTxt:"时间"}:t.value===7?{name:"收回人",title:"收回备用金",priceTxt:"金额",dealPeople:"被收回人",timeTxt:"时间"}:t.value===8?{name:"被收回人",title:"备用金被收回",priceTxt:"金额",dealPeople:"收回人",timeTxt:"时间"}:t.value===9?{name:"发放人",title:"发放备用金",priceTxt:"金额",dealPeople:"接收人",timeTxt:"时间"}:t.value===10?{name:"姓名",title:"备用金用磬",priceTxt:"剩余金额",dealPeople:"",timeTxt:"时间"}:{name:"姓名",title:"",priceTxt:"金额",dealPeople:"",timeTxt:"时间"}),N=d=>{const _=n.value?I:C,m=n.value?{applicationId:f}:{notifyId:f};_(m).then(a=>{a.code===0?(e.name={type:"text",value:a.data.identifyName},e.price={type:"number",value:a.data.amount},e.homeName={type:"text",value:a.data.homeName},e.job={type:"text",value:a.data.identifyName},e.time={type:"dayjs",value:t.value===2||t.value===3?a.data.startTime:a.data.applicationTime},e.audRes={type:"text",value:a.data.status===1?"待审核":a.data.status===2?"通过":"拒绝"},e.reviewer={type:"text",value:a.data.auditIdentifyName},e.dealPeople={type:"text",value:n.value===1?a.data.auditIdentifyName:a.data.client},e.desc=a.data.remark,e.currency=a.data.currency,e.status=a.data.status):P(a.msg)}).finally(()=>{d&&d()})};return V(()=>{n.value=Number(r.query.pgTp||0),N(h),t.value=Number(r.query.tp)}),(d,_)=>{const m=q("MainContainer");return s(),c(m,null,{header:v(()=>[u(g,{title:l.value.title},null,8,["title"])]),default:v(()=>[o("div",H,[u(i,{label:l.value.name,valData:e.name},null,8,["label","valData"]),t.value!==2&&t.value!==3?(s(),c(i,{key:0,label:l.value.priceTxt},{default:v(()=>[o("div",S,p(x(D)(e.price.value))+" "+p(e.currency),1)]),_:1},8,["label"])):y("",!0),u(i,{label:x(T)("base.belongHomeTxt"),valData:e.homeName},null,8,["label","valData"]),t.value!==10?(s(),c(i,{key:1,label:l.value.dealPeople,valData:e.dealPeople},null,8,["label","valData"])):y("",!0),u(i,{label:l.value.timeTxt,valData:e.time},null,8,["label","valData"]),[5,6,7,8,9].includes(t.value)&&e.desc?(s(),L("div",$,[o("div",E,p(x(T)("base.descTxt")),1),o("div",F,p(e.desc),1)])):y("",!0)])]),_:1})}}});export{J as default};
