import{u as P,a as T,c as A,b as L,R as B,Q as M,y as R,j as S,g as w}from"./index.Cjri3_sP.js";import{d as H,l as V,m as F,p as Q,o as l,e as _,Q as r,x as a,_ as $,r as v,B as s,a as p,f as d,i as o,S as m}from"./vue.BCHSKM6y.js";import{_ as n}from"./BaseInfoItem.vue_vue_type_style_index_0_lang.DMYgpoJW.js";import{a as q}from"./index.DllRNd8O.js";import"./right-arrow-icon.CaFxgYzl.js";const E=["src"],O={class:"imprest-details-box container-setPx"},U={style:{"font-weight":"500"}},z={key:1,class:"imprest-info-item"},G={class:"imprest-info-title"},J={class:"imprest-info-desc"},K={key:2,class:"footer-aux-btmbox"},W={key:3,class:"footer-btn-box"},X=o("div",{class:"imprest-details-dialog"},[o("div",{class:"pd-dialog-content"},"确定取消申请？")],-1),oe=H({__name:"staffDeatils",setup(Y){const f=V(null),{comeback:g}=A(),b=P(),h=$(),{hkMessage:i}=w(),{id:y}=h.query,e=F({name:{type:"text",value:""},price:{type:"number",value:0},homeName:{type:"text",value:""},job:{type:"text",value:""},time:{type:"dayjs",value:0},auditIdentifyName:{type:"text",value:""},desc:"",currency:"",status:0}),{t:c}=L(),{pageLoading:x,endPageLoading:D}=T({}),k=()=>{f.value.taggleDialog(!0)},N=u=>{B({applicationId:y}).then(t=>{t.code===0?(e.name={type:"text",value:t.data.identifyName},e.price={type:"number",value:t.data.amount},e.homeName={type:"text",value:t.data.homeName},e.job={type:"text",value:t.data.identifyDuties},e.time={type:"dayjs",value:t.data.applicationTime},e.auditIdentifyName={type:"text",value:t.data.auditIdentifyName},e.desc=t.data.remark,e.currency=t.data.currency,e.status=t.data.status):i(t.msg)}).catch(t=>{i(t)}).finally(()=>{u&&u()})},C=u=>{q({applicationId:y,homeId:b.userInfo.homeId}).then(t=>{t.code===0?(g(),i("取消申请成功"),f.value.taggleDialog(!1)):i(t.msg)}).catch(t=>{i(t)})};return Q(()=>{N(D)}),(u,t)=>{const I=v("ConfrimPopAgain"),j=v("MainContainer");return l(),_(j,{exitLoading:!0,pageLoading:a(x)},{default:r(()=>[s(R,{title:"申请详情"},{rightContent:r(()=>[e.status?(l(),p("img",{key:0,class:"imprest-header-staimg",src:a(M)(e.status===1?"wait":e.status===2?"pass":"unpass"),alt:""},null,8,E)):d("",!0)]),_:1}),o("div",O,[s(n,{label:"申请人",valData:e.name},null,8,["valData"]),s(n,{label:a(c)("base.applyMoneyTxt")},{default:r(()=>[o("div",U,m(a(S)(e.price.value))+" "+m(e.currency),1)]),_:1},8,["label"]),s(n,{label:a(c)("base.belongHomeTxt"),valData:e.homeName},null,8,["label","valData"]),s(n,{label:a(c)("base.jopTxt"),valData:e.job},null,8,["label","valData"]),s(n,{label:a(c)("base.timeTxt"),valData:e.time},null,8,["label","valData"]),e.status!==1&&e.status!==0?(l(),_(n,{key:0,label:"审核人",valData:e.auditIdentifyName},null,8,["valData"])):d("",!0),e.desc?(l(),p("div",z,[o("div",G,m(a(c)("base.descTxt")),1),o("div",J,m(e.desc),1)])):d("",!0),e.status===1?(l(),p("div",K)):d("",!0),e.status===1?(l(),p("div",W,[o("div",{class:"imprest-cancel-btn",onClick:k},"取消申请")])):d("",!0)]),s(I,{ref_key:"rejectPopRef",ref:f,popClass:"imprest-details-reject-dialog",customFooter:!0,onOnConfirm:C},{default:r(()=>[X]),_:1},512)]),_:1},8,["pageLoading"])}}});export{oe as default};
