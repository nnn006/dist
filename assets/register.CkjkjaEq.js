import{_ as W}from"./right-arrow-icon.CaFxgYzl.js";import{j,d as Z,s as _,I,U as $,t as T,M as ee,u as se,V as oe,W as te,X as F,Y as ae,a as ne,Z as le,$ as H}from"./index.C__3lhMr.js";import{l as ie,R as ce,r as A,b as R,a as re,d as de,o as ue,K as J,L as d,M as u,N as s,F as B,O as g,u as t,k as f,D as h,V as U,S as x}from"./vue.C2TeXnf4.js";const ge="data:image/png;base64,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",pe={class:"register-box"},me={class:"reg-big-tit"},Ce={class:"reg-sec-tit"},fe={class:"reg-form-box"},Ae={class:"reg-form-item hk-flex hk-items-center"},he={class:"reg-area-span"},ke={class:"reg-field-box"},ve={class:"reg-form-item rf-mt-24 hk-flex hk-items-center"},be={class:"reg-field-box"},Pe={class:"login-other-box hk-flex hk-items-center"},we=s("img",{class:"go-login-arraw",src:W,alt:"",srcset:""},null,-1),Be=s("img",{class:"qingliao-logo",src:ge,alt:""},null,-1),xe=s("img",{class:"go-login-arraw",src:W,alt:"",srcset:""},null,-1),ye={key:1,class:"ql-auth-page"},De=s("img",{class:"auth-logo-png",src:ae,alt:"",srcset:""},null,-1),Ee=s("div",{class:"auth-logo-label"},"正在登录中",-1),Se=[De,Ee],Ie=s("div",{class:"short-tips-dialog"},[s("div",{class:"pd-dialog-content"},"是否使用轻聊授权登录?")],-1),Te=ie({__name:"register",setup(Re){const{t:c}=se();ce();const X=A(null),p=new URLSearchParams(window.location.search).get("shareCode"),y=j(),{setShareCode:q,removerShareCode:K}=oe(),{pushName:k}=Z(),{hkMessage:v}=ne(),{getLoginDate:D}=_();let m=null;const n=A(!1),b=A(!1),E=window.localStorage.getItem("openuid"),P=R({isAppPage:E||I.inApp()?2:1}),N=A(null),a=R({account:"",pwd:"",verCode:""}),w=A(86),O=re(()=>!(a.account&&a.verCode)),i=R({isCountdown:!1,countdownNum:60}),G=()=>{N.value.taggleVisible(!0)},z=l=>{w.value=l.dialCode},L=l=>{const e={phone:"+"+w.value+a.account,code:a.verCode,shareCode:p};le(e).then(async o=>{o.code===0?(y.setToken(o.data.token),p&&K(),o.data.message&&H({message:o.data.message}),await D(),sessionStorage.clear(),k("Home")):H({message:o.msg})}).finally(()=>{n.value=!1})},M=()=>{n.value||(n.value=!0,L())},Q=$(()=>{if(!a.account){v("请填写手机号码");return}i.isCountdown||(i.isCountdown=!0,te({phone:"+"+w.value+a.account,type:2}).then(l=>{l.code===0?V():v(l.msg)}))},500),V=()=>{m=setTimeout(()=>{i.countdownNum>=1?(i.countdownNum--,V()):(i.isCountdown=!1,i.countdownNum=60,clearTimeout(m),m=null)},1e3)},S=async()=>{if(E){n.value=!0,F({imToken:E,shareCode:p,typ:1}).then(async e=>{var o,r;e.code===0?(o=e.data)!=null&&o.token&&(y.setToken((r=e.data)==null?void 0:r.token),await D(),sessionStorage.clear(),k("Home")):v(e.msg)}).finally(()=>{n.value=!1});return}const l=await I.dologin("family");if(l)P.isAppPage=2;else{P.isAppPage=1;return}n.value=!0,F({imToken:l,shareCode:p}).then(async e=>{var o,r;e.code===0?(o=e.data)!=null&&o.token&&(y.setToken((r=e.data)==null?void 0:r.token),await D(),sessionStorage.clear(),k("Home")):v(e.msg)}).finally(()=>{n.value=!1})};return de(()=>{b.value=I.inApp(),p&&q(p),b.value&&S()}),ue(()=>{m&&(clearTimeout(m),m=null)}),(l,e)=>{const o=J("SvgIcon"),r=J("AreaCodeSelect"),Y=J("ConfrimPopAgain");return d(),u(B,null,[s("div",pe,[P.isAppPage===1?(d(),u(B,{key:0},[s("div",me,g(t(c)("base.registerTxt")),1),s("div",Ce,g(t(c)("base.registerDescTxt")),1),s("div",fe,[s("div",Ae,[s("div",{class:"reg-area hk-flex hk-items-center",onClick:G},[s("span",he,"+"+g(w.value),1),f(o,{iconClass:"down-select-svg",size:"9",color:"#0D0D0D"})]),s("div",ke,[f(t(T),{modelValue:a.account,"onUpdate:modelValue":e[0]||(e[0]=C=>a.account=C),placeholder:t(c)("base.regTelPldtxt"),clearable:"","clear-icon":"cross"},null,8,["modelValue","placeholder"])])]),s("div",ve,[s("div",be,[f(t(T),{modelValue:a.verCode,"onUpdate:modelValue":e[1]||(e[1]=C=>a.verCode=C),placeholder:t(c)("base.regVerCodePldtxt"),clearable:"","clear-icon":"cross"},null,8,["modelValue","placeholder"])]),s("div",{class:"get-vcode-box",onClick:e[2]||(e[2]=(...C)=>t(Q)&&t(Q)(...C))},[i.isCountdown?(d(),u(B,{key:0},[h(g(i.countdownNum)+" ",1),s("span",null,g(t(c)("base.vCodeSendTxt")),1)],64)):(d(),u(B,{key:1},[h(g(t(c)("base.getVcodeTxt")),1)],64))])])]),f(t(ee),{class:"reg-step-btn",disabled:O.value,loading:n.value,type:"primary",onClick:M},{default:U(()=>[h(g(t(c)("base.nextStep")),1)]),_:1},8,["disabled","loading"]),s("div",Pe,[b.value?x("",!0):(d(),u("div",{key:0,class:"hk-flex hk-items-center",onClick:e[3]||(e[3]=C=>t(k)("Login"))},[h(" 已有账号，前去登录 "),we])),b.value?(d(),u("div",{key:1,class:"hk-flex hk-items-center",onClick:S},[Be,h(" 轻聊授权登录 "),xe])):x("",!0)])],64)):x("",!0),P.isAppPage===2?(d(),u("div",ye,Se)):x("",!0)]),f(r,{ref_key:"areaCodeSelectRef",ref:N,onOnChange:z},null,512),f(Y,{ref_key:"confirmDelPopRef",ref:X,popClass:"short-tips-pop",loading:n.value,customFooter:!0,onOnConfirm:S},{default:U(()=>[Ie]),_:1},8,["loading"])],64)}}});export{Te as default};
